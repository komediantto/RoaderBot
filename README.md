# RoaderBot

## Описание

Telegram-бот с админкой для краевой администрации, помогает принимать жалобы на убитые дороги в Северной Осетии.

## Технологии

Django, Aiogram, Rest API, DRF, PostgreSQL, docker

## Как запустить

Создать .env файл в корне проекта вида:

```env
BOT_TOKEN = <ваш токен>
DEBUG = <True или False>
HOST = <свой хост, либо *>
SECRET_KEY = <свой secret key django>
DB_NAME = postgres
DB_USER = postgres
DB_PASSWORD = postgres
DB_HOST = db
DB_PORT = 5432
```

Из корневой директории запустить docker-compose

```bash
docker-compose up -d
```

При первом запуске требуется наполнить БД данными о дорогах, для этого идём в контейнер с Django

```bash
docker exec -it roaderbot-web-1 bash
```

Переходим в директорию app и запускаем скрипт

```bash
cd app
python manage.py runscript migrate_data_frov_xlsx
```

И заодно создадим суперюзера
```bash
python manage.py createsuperuser
```

Админка будет доступна по адресу http://0.0.0.0:8000/admin.

Бот запускается по команде /start и далее доступны следующие опции:
1. Пожаловаться на плохую дорогу
2. Оценить качество ремонта
3. Отправить предложение

##  Скриншоты бота

*начало*
![[photo_2023-06-21_13-02-23.jpg]]

*регистрация*
![[photo_2023-06-21_13-02-32.jpg]]

*реализация отправки номера*
![[photo_2023-06-21_13-02-37.jpg]]

*опции*
![[photo_2023-06-21_13-02-41.jpg]]

![[photo_2023-06-21_13-02-43.jpg]]
*выбор улицы*
![[photo_2023-06-21_13-02-46.jpg]]

##  Скриншоты админки

*населённые пункты*
![[Снимок экрана от 2023-06-21 13-06-26.png]]
*оценки*
![[Снимок экрана от 2023-06-21 13-08-48.png]]
*жалобы*
![[Снимок экрана от 2023-06-21 13-08-59.png]]
*улицы*
![[Снимок экрана от 2023-06-21 13-09-06.png]]
*предложения*
![[Снимок экрана от 2023-06-21 13-09-14.png]]
